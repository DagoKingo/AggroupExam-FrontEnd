<h1>Nueva Venta</h1>

<hr />

<label for="typeahead-basic">Cliente:</label>
<div class="row">
  <div class="col-3">
    <input
      id="typeahead-basic"
      type="text"
      value="{{ venta.cliente.nombre_completo }}"
      class="form-control"
      readonly
    />
  </div>
  <button
    type="button"
    class="btn btn-success"
    (click)="openModal(clientesContent)"
  >
    +
  </button>
</div>

<div class="container row mt-3">
  <label for="typeahead-basic" class="mt-3">Articulo:</label>
  <button
    type="button"
    class="btn btn-success btn-sm mt-2 ml-2"
    style="height: 35px"
    (click)="openModal(articulosContent)"
  >
    Agregar
  </button>
</div>

<hr />

<!-- Cliente Modal -->
<ng-template #clientesContent let-modal>
  <div class="modal-header">
    <h2 class="modal-title" id="modal-basic-title">Clientes</h2>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="list-group">
      <button
        *ngFor="let cliente of clientes"
        type="button"
        class="list-group-item list-group-item-action"
        (click)="selectCliente(cliente)"
      >
        {{ cliente.nombre_completo }}
      </button>
    </div>
  </div>
</ng-template>

<!-- Articulos Modal -->
<ng-template #articulosContent let-modal>
  <div class="modal-header">
    <h2 class="modal-title" id="modal-basic-title">Articulos</h2>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="list-group">
      <button
        *ngFor="let articulo of articulos"
        type="button"
        class="list-group-item list-group-item-action"
        (click)="addArticle(articulo)"
      >
        {{ articulo.nombre + ": $" + articulo.precio }}
      </button>
    </div>
  </div>
</ng-template>
